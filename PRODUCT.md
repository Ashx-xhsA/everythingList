# Autofocus

> **一本永远不会用完的笔记本，帮你诚实地面对自己的待办事项。**

---

## 什么是 Autofocus？

Autofocus 是由英国时间管理专家 **Mark Forster** 发明的一套直觉驱动的任务管理系统。

它的核心洞察是：**人的理性思维和直觉思维需要协同工作**。如果仅靠理性安排计划，我们的内心会抗拒执行；如果完全凭感觉行事，又容易散漫无序。Autofocus 提供了一个框架，让这两种思维模式达到平衡——你在清单上快速浏览，等待某一项"跳出来"吸引你的注意力，那种"准备好了"的感觉一旦出现，做这件事的阻力就会消失。

### 原始方法（纸笔版）

1. 把所有待办事项写在一本横线笔记本上（理想每页 25–35 行）
2. 以"页"为单位逐页处理：
   - **快速浏览**该页所有条目，不采取行动
   - **慢慢重读**，等待某一条"跳出来"（standing out）——一种直觉上的释放感
   - 对"跳出来"的任务**想做多久就做多久**，不强迫自己
   - 做完后**划掉**，若未完成则在清单末尾**重新写入**
   - 反复扫描同一页，直到**没有任何条目再跳出来**
3. 翻到下一页，重复以上过程
4. 如果翻到某一页时**第一轮扫描就没有条目跳出来**——该页所有未完成条目被**全部淘汰（dismiss）**，不再重新写入
5. 处理完最后一页后，**回到第一个仍活跃的页面**重新开始

> *"虽然我说是'系统在做选择'，但其实是系统提供了一个框架，让你自己以一种无压力的方式做出理性与直觉平衡的决策。"*
> — Mark Forster

---

## 我们的实现

**Autofocus App** 将这套纸笔方法论数字化，保留了翻页与淘汰的核心机制，同时加入了数字化带来的便利。

### 📓 分页任务系统

- 任务以"页"为单位组织，每页有固定容量（可自定义，默认 5 条）
- 新任务总是添加到最后一页；页面写满后自动开启新页
- 左右**滑动翻页**，带弹性边界效果；底部 `<` `>` 按钮可快速跳转到首尾活跃页
- 页面标题 `PAGE 1`、`PAGE 2` ……模拟笔记本页码

### ✅ 任务生命周期

| 状态 | 含义 | 视觉表现 |
|:-----|:-----|:---------|
| **Active** | 等待处理 | 正常显示，带方形勾选框 |
| **Completed** | 已完成 | 删除线 |
| **Dismissed** | 被淘汰 | 灰色斜体，灰底 |

- **点击勾选框** → 标记完成
- **点击任务** → 展开/折叠详情
- **长按任务** → 打开编辑

### 🔥 淘汰机制（Dismiss / Fire）

原始方法中，如果翻到某页第一轮就没有任务让你心动，说明这些事对你已不再重要——全部淘汰。

在 App 中，当一页写满且仍有活跃任务时，页面标题旁出现 **✕** 按钮：

- 点击 → 弹出确认对话框："Dismiss all tasks on this page?"
- 确认 → 该页所有 Active 任务批量标记为 **Dismissed**
- 这些被淘汰的任务不会消失，它们进入日志，随时可以回顾

> *"请认真对待不重新写入被淘汰条目的规则。这并不意味着永远不能重新添加它们，但你应该让一段时间过去，并认真思考它们为何被淘汰、是否真的需要做、时机是否成熟。"*
> — Mark Forster

### 📝 任务编辑器

全屏模态框，支持两段式工作流：

1. **编辑模式** — 输入任务名称和详细描述，点击 `| DONE |` 进入预览
2. **预览模式** — 查看内容；点击返回编辑；**下滑保存关闭**
3. 空内容自动丢弃

### 💡 智能联想

输入任务名时，自动从已完成和已淘汰的历史任务中模糊匹配，提供最多 5 条建议——方便快速重新添加周期性任务（如"清理邮箱"、"锻炼"）。

若匹配到曾被淘汰的任务，显示警告：*"You previously set this on fire. Are you sure?"*——提醒你三思。

### 📖 完成日志

以 **Daygram 风格时间线**展示已完成任务：

- 按 **月份 / 年份** 筛选
- 按日期分组（`17 Tuesday /`），每条记录显示完成时间
- 点击查看详情；长按可永久删除

### ⚙️ 设置

| 设置项 | 说明 |
|:-------|:-----|
| **Items Per Page** | 每页容量（已有页面保留原容量） |
| **Font Size** | 全局字体大小，带 `+` `-` 按钮和实时预览 |
| **Reset All Data** | 清除全部数据，恢复默认 |

---

## 设计风格

复古极简美学，灵感来源于 **Daygram**：

- 米色纸张背景 `#f1f0ec`
- **Courier**（等宽）+ **Georgia**（衬线）字体，打字机质感
- 方角设计（`borderRadius: 0`），2px 黑色实线边框
- 底部导航：○ 圆形（日志）· `< + >` 翻页 · □ 方形（设置）

---

## 技术栈

| 技术 | 用途 |
|:-----|:-----|
| React Native + Expo 54 | 跨平台移动框架 |
| TypeScript | 类型安全 |
| AsyncStorage | 本地持久化 |
| React Navigation (Stack) | 路由与淡入淡出过渡 |
| Animated + PanResponder | 手势驱动翻页 |

---

## 项目结构

```
autofocus-app/
├── App.tsx                        # 根组件
├── src/
│   ├── types.ts                   # Task 类型定义
│   ├── theme.ts                   # 主题配置
│   ├── context/TaskContext.tsx     # 核心状态管理
│   ├── screens/
│   │   ├── HomeScreen.tsx         # 主页：分页任务 + 导航
│   │   ├── LogPage.tsx            # 完成日志
│   │   └── SettingsScreen.tsx     # 设置
│   └── components/
│       ├── Pager.tsx              # 手势翻页器
│       ├── TaskItem.tsx           # 任务条目
│       ├── TaskModal.tsx          # 任务编辑器
│       └── SuggestionInput.tsx    # 联想输入
```

---

## 使用哲学

Mark Forster 在使用 Autofocus 系统后发现的效果，也是这款 App 希望带给你的：

- **大幅提升产出** — 几乎没有拖延的摩擦力
- **压力消失** — 没有需要克服的巨大阻力，大部分工作变得愉悦
- **聚焦真正重要的事** — 不是理性头脑认为重要的，而是你整个人认为重要的
- **快速处理日常事务** — 邮件、电话、琐事的处理速度呈指数级提升
- **"少量多次"推进大项目** — 灵感和洞察在反复接触中自然浮现

> *"这个系统可能会让人上瘾（至少我的体验是这样的），所以你可能需要给自己设定严格的工作时间。"*
> — Mark Forster

---

*Autofocus — 写下、翻页、放下。*
